<!DOCTYPE html>

<head>
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script> -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/winddata.js"></script>
  <script type="text/javascript" src="js/gamestate.js"></script>
  <script type="text/javascript" src="js/settings.js"></script>
  <script type="text/javascript" src="js/controlls.js"></script>
  <script type="text/javascript" src="js/windeditor.js"></script>
  <script type="text/javascript" src="js/game.js"></script>
  <link type="image/x-icon" rel="icon" href="img/favicon.ico" />
  <title>Pentium-Rinrab</title>
  <link href="css/bootstrap.min.css" rel="stylesheet" />
  <style type="text/css">
    body {
      position: fixed;
      overflow: hidden;
      width: 100%;
      touch-action: none;
    }

    body>* {
      position: unset;
    }

    .game-elem {
      position: absolute;
    }

    .set-cont {
      scale: 1.25;
      position: absolute;
      right: 20px;
      top: 10px;
    }

    @media only screen and (min-height: 600px) {
      .set-cont {
        scale: 0.75;
      }
    }

    .pn-lines {
      width: 1000px;
      height: 1000px;
      margin-left: -500px;
      transform-origin: center top;
      transition: all 0.5s ease-in-out;
    }

    #wind {
      transition: all 0.5s ease-in-out;
    }

    #boats>.game-elem {
      transition: all 0.5s ease-in-out;
    }

    #game-area>* {
      position: absolute;
    }

    .pad0 {
      padding: 0;
    }

    .list-group-item {
      height: 35px;
      font-size: 15px;
    }

    .pn-wind-hide,
    .wind-data-arrow {
      position: absolute;
    }

    .wind-data-arrow {
      height: 50px;
      right: 15px;
      margin-top: -10px;
    }

    .pn-wind-hide {
      height: 15px;
      right: 10px;
    }

    .show-future-wind {
      border-bottom-right-radius: 0;
      border-bottom-left-radius: 0;
      border-top-left-radius: 0;
      margin-left: 10px;
      width: 140px;
      height: 35px;
      border-bottom-left-radius: 0;
      font-size: small;
    }

    .pn-boat {
      width: 14px;
      height: 28px;
      margin-left: -7px;
      margin-top: -14px;
    }

    .pn-control-color {
      width: 1em;
      height: 1em;
      border-radius: 4px;
    }

    .pn-mark {
      width: 20px;
      height: 20px;
      margin-left: -10px;
      margin-top: -10px;
    }

    #btn-add-player {
      width: 100%;
    }

    #back-btn {
      width: 25%;
    }

    #btn-done {
      width: 75%;
    }

    #lines-img {
      width: 100%;
    }

    #game-area {
      transform-origin: left top;
      overflow: hidden;
    }

    #game-area svg {
      display: block;
    }

    #game-cont {
      width: 100%;
      height: 100%;
    }

    #controll-container {
      position: absolute;
      right: 10px;
    }

    .november-container {
      position: fixed;
      bottom: 10px;
      right: 10px;
      width: 300px;
    }

    #btn-nowember {
      width: 3em;
      height: 2em;
    }

    #btn-ap {
      width: 3.5em;
      height: 2em;
    }
  </style>
</head>

<body>
  <div class="row">
    <div id="wind-scroll-cont" style="width: 150px;" class="pad0">
      <input type="checkbox" class="btn-check" id="show-future-wind" autocomplete="off">
      <label class="btn btn-outline-primary show-future-wind" for="show-future-wind">
        Show future wind
      </label>
      <div class="overflow-scroll" id="wind-data.scroller">
        <ul class="list-group list-group-flush" id="wind-data"></ul>
      </div>
    </div>
    <div class="col pad0">
      <div id="game-cont">
        <div id="game-area" style="position: relative;  height: 100%; width: 100%;">
          <svg viewBox="0 0 1 1" style="height: 100%;  background-color: #ebeaff;"></svg>
          <div id="track-cont" style="width:100%; height: 100%;">
            <svg id="track" xmlns="http://www.w3.org/2000/svg" class="game-elem" style="height: 100%;">
            </svg>
          </div>
          <div id="boats"></div>
          <div id="marks"></div>
          <img src="img/wind.svg" id="wind" class="game-elem" />
          <div class="set-cont" id="set-cont">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="set-show-tracks">
              <label class="form-check-label" for="set-show-tracks">Show tracks</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="set-show-boats">
              <label class="form-check-label" for="set-show-boats">Show boats</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="set-show-lanelines">
              <label class="form-check-label" for="set-show-lanelines">Show lanelines</label>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div style="width: 350px;" id="controll-container" class="pad0">
      <div>
        <div id="start-alert" class="alert alert-warning text-center">
          Start procedure
          <label style="width: 10px;"></label>
          <input type="image" class="btn btn-outline-primary btn-sm" id="btn-ap" src="img/ap.png">
        </div>
        <div id="game-alert" hidden class="alert alert-info text-center">Race:
          <span id="wind-scenario-name-inrace-alert"></span>
          <label style="width: 10px;"></label>
          <input type="image" class="btn btn-outline-primary btn-sm" id="btn-nowember" src="img/november.svg">
        </div>
      </div>
      <div id="create">
        <div class="input-group mb-3">
          <select id="select-wind" class="form-select"></select>
          <button id="edit-btn" class="btn btn-outline-primary" data-bs-toggle="modal"
            data-bs-target="#wind-editor-window" data-bs-placement="top" data-bs-title="Edit wind">&#9998;</button>
          <button id="add-wind-btn" class="btn btn-outline-primary" data-bs-toggle="modal"
            data-bs-target="#wind-editor-window" data-bs-placement="top" data-bs-title="Add custom wind">+</button>
        </div>
      </div>
      <div>
        <div class="" style="width: 100%;">
          <div class="" id="controlls" style="width: 100%;">
            <button class="btn btn-outline-danger mb-2" id="btn-add-player">+</button>
            <div id="last-controll" class="mb-2"></div>
            <div class="w-100 input-group">
              <button class="btn btn-outline-primary" id="back-btn">Back</button>
              <button class="btn btn-outline-primary" id="btn-done">Start!</button>
            </div>
          </div>
        </div>
      </div>
      <div class="row november-container">
        <div class="col-5">
        </div>
        <div class="col-12">
          <div>
            <label style="width: 100%; text-align: right;">
              PENTIUM (c) Rautu & Rinrab
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade  modal-lg" id="wind-editor-window" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5">Wind Editor</h1>
          <div class="mr-0">
            <button class="btn btn-outline-primary" id="share-btn" data-bs-toggle="tooltip" data-bs-trigger="none"
              data-bs-title="Link copied to clipboard!">Share</button>
          </div>
        </div>
        <div class="modal-body">
          <div class="alert alert-warning" id="wind-readonly-text">
            This is predifined wind preset. It cannot be changed. Use 'Create Wind' button to
            create custom wind scenario.
          </div>
          <div class="mb-3">
            <label class="form-label">Scenario name</label>
            <input type="text" class="form-control" id="editor-wind-name" placeholder="i.e. &#34;pendulum 1&#34" />
          </div>
          <div class="mb-0">
            <label class="form-label">Wind change</label>
            <textarea class="form-control" id="editor-wind" rows="7" placeholder="i.e. 5, 10, 15, 20, 15...">
            </textarea>
          </div>
          <div class="mb-3">
            <div class="invalid-feedback" id="wind-valid"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" id="editor-save" data-bs-dismiss="modal">Save
              changes</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" style="position: absolute; left: 10px;" id="delete-btn"
              data-bs-dismiss="modal">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade modal-lg" id="add-wind-url-window">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5">Add wind?</h1>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Scenario name</label>
            <input type="text" class="form-control" id="add-wind-name" readonly />
          </div>
          <div class="mb-0">
            <label class="form-label">Wind change</label>
            <textarea class="form-control" id="add-wind-text" rows="7" readonly></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="editor-save" data-bs-dismiss="modal">
            Add wind
          </button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</body>